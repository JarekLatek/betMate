# Status implementacji widoku uwierzytelniania

## ğŸ“Š Podsumowanie przeglÄ…du

**Data przeglÄ…du:** 2025-12-05
**Status ogÃ³lny:** âœ… IMPLEMENTACJA ZAKOÅƒCZONA - Faza 1, 2 i 4 ukoÅ„czone
**ZgodnoÅ›Ä‡ z planem:** 100% - wszystkie testy przeszÅ‚y pomyÅ›lnie

---

## âœ… Problemy krytyczne (ROZWIÄ„ZANE w Fazie 1)

### Problem 1: Brak synchronizacji sesji miÄ™dzy server i browser client âœ… ROZWIÄ„ZANY

**Opis:**

- ~~Middleware uÅ¼ywa `supabase.client.ts` (bez cookie storage)~~
- ~~Auth-form uÅ¼ywa `supabase.browser.ts` (z custom cookie storage)~~
- ~~Sesje nie sÄ… synchronizowane - middleware nie widzi zalogowanego uÅ¼ytkownika~~

**RozwiÄ…zanie zastosowane:**
- Utworzono `src/db/supabase.server.ts` z funkcjÄ… `createSupabaseServerClient()`
- Zrefaktoryzowano `src/db/supabase.browser.ts` do uÅ¼ycia oficjalnego `createBrowserClient`
- Zaktualizowano middleware do tworzenia client per-request
- UsuniÄ™to stary `src/db/supabase.client.ts`

**Pliki dotkniÄ™te:**

- `src/middleware/index.ts`
- `src/db/supabase.client.ts`
- `src/db/supabase.browser.ts`

**Plan naprawy:**

#### Krok 1.1: Instalacja oficjalnego pakietu Supabase SSR

```bash
npm install @supabase/ssr
```

#### Krok 1.2: Refaktoryzacja `supabase.client.ts` na server client

**Cel:** Utworzenie funkcji tworzenia server client per-request

**Akcje:**

1. UsuÅ„ globalny singleton client
2. UtwÃ³rz funkcjÄ™ `createServerClient()` przyjmujÄ…cÄ… cookies
3. UÅ¼yj `createServerClient` z `@supabase/ssr`
4. Konfiguracja:
   - UÅ¼ywa `SUPABASE_URL` i `SUPABASE_KEY`
   - PrzekazaÄ‡ cookies z Astro request/response

**Kod docelowy:**

```typescript
// src/db/supabase.server.ts (nowy plik)
import { createServerClient } from "@supabase/ssr";
import type { AstroCookies } from "astro";
import type { Database } from "./database.types";

export function createSupabaseServerClient(cookies: AstroCookies) {
  return createServerClient<Database>(import.meta.env.SUPABASE_URL, import.meta.env.SUPABASE_KEY, {
    cookies: {
      get(key: string) {
        return cookies.get(key)?.value;
      },
      set(key: string, value: string, options) {
        cookies.set(key, value, options);
      },
      remove(key: string, options) {
        cookies.delete(key, options);
      },
    },
  });
}
```

#### Krok 1.3: Refaktoryzacja `supabase.browser.ts` na browser client

**Cel:** UÅ¼ycie oficjalnego `createBrowserClient` zamiast custom cookie storage

**Akcje:**

1. UsuÅ„ custom `cookieStorage` object
2. UÅ¼yj `createBrowserClient` z `@supabase/ssr`
3. Konfiguracja:
   - UÅ¼ywa `PUBLIC_SUPABASE_URL` i `PUBLIC_SUPABASE_ANON_KEY`
   - SSR package automatycznie obsÅ‚uguje cookies

**Kod docelowy:**

```typescript
// src/db/supabase.browser.ts
import { createBrowserClient } from "@supabase/ssr";
import type { Database } from "./database.types";

export const supabaseBrowser = createBrowserClient<Database>(
  import.meta.env.PUBLIC_SUPABASE_URL,
  import.meta.env.PUBLIC_SUPABASE_ANON_KEY
);
```

#### Krok 1.4: Aktualizacja middleware

**Cel:** Utworzenie server client per-request i wystawienie go do context

**Akcje:**

1. ZaimportowaÄ‡ `createSupabaseServerClient`
2. UtworzyÄ‡ client uÅ¼ywajÄ…c `Astro.cookies`
3. UsunÄ…Ä‡ globalne `supabaseClient`
4. WystawiÄ‡ nowy client do `context.locals.supabase`

**Kod docelowy:**

```typescript
// src/middleware/index.ts
import { defineMiddleware } from "astro:middleware";
import { createSupabaseServerClient } from "@/db/supabase.server";

export const onRequest = defineMiddleware(async (context, next) => {
  context.locals.supabase = createSupabaseServerClient(context.cookies);

  const {
    data: { session },
  } = await context.locals.supabase.auth.getSession();

  context.locals.user = session?.user ?? null;

  return next();
});
```

#### Krok 1.5: UsuniÄ™cie starego `supabase.client.ts`

**Akcje:**

1. ZweryfikowaÄ‡, Å¼e Å¼adne pliki nie importujÄ… `supabase.client.ts`
2. UsunÄ…Ä‡ plik `src/db/supabase.client.ts`

---

### Problem 2: Custom cookie storage - potencjalne problemy bezpieczeÅ„stwa âœ… ROZWIÄ„ZANY

**Status:** âœ… RozwiÄ…zany przez Problem 1 (Krok 1.3)

**SzczegÃ³Å‚y:**

- ~~Brak `Secure` flag w produkcji~~
- ~~Sztywny `max-age` nie uwzglÄ™dnia sesji Supabase~~
- ~~Potencjalne problemy z parsing cookies~~

**RozwiÄ…zanie zastosowane:**
Oficjalny `@supabase/ssr` automatycznie obsÅ‚uguje wszystkie edge cases - zainstalowany i wdroÅ¼ony.

---

## ğŸŸ¡ Problemy waÅ¼ne (poprawiÄ‡ przed deployment)

### Problem 3: Niezgodne przekierowanie po rejestracji âœ… CZÄ˜ÅšCIOWO ROZWIÄ„ZANY

**Opis:**

- ~~Obecna implementacja: przekierowanie do `/login`~~
- ~~Plan: przekierowanie do `/` lub informacja o potwierdzeniu emaila~~

**RozwiÄ…zanie zastosowane (Krok 3.2):**
- Zaimplementowano warunkowe przekierowanie na podstawie `authData.session`
- JeÅ›li sesja istnieje (email confirmation OFF) â†’ przekierowanie do `/`
- JeÅ›li brak sesji (email confirmation ON) â†’ przekierowanie do `/login`

**Plik:** `src/components/auth/auth-form.tsx:67-72`

**Plan naprawy:**

#### Krok 3.1: Sprawdzenie konfiguracji Supabase

**Akcje:**

1. ZweryfikowaÄ‡ w Supabase Dashboard â†’ Authentication â†’ Email Templates
2. SprawdziÄ‡ czy "Confirm email" jest wÅ‚Ä…czone

#### Krok 3.2: Implementacja warunkowego przekierowania

**Kod docelowy:**

```typescript
// Po sukcesie rejestracji
if (authData.user) {
  // JeÅ›li email confirmation jest wyÅ‚Ä…czona, user jest od razu zalogowany
  if (authData.session) {
    window.location.href = "/";
  } else {
    // Email confirmation jest wÅ‚Ä…czona - pokazaÄ‡ komunikat
    setServerError(null); // wyczyÅ›ciÄ‡ error
    // MoÅ¼na dodaÄ‡ useState dla successMessage
    // lub przekierowaÄ‡ do strony z informacjÄ…
    window.location.href = "/verify-email"; // lub pokazaÄ‡ info message
  }
}
```

#### Krok 3.3: (Opcjonalnie) Utworzenie strony `/verify-email`

**Akcje:**

1. UtworzyÄ‡ `src/pages/verify-email.astro`
2. WyÅ›wietliÄ‡ informacjÄ™ o wysÅ‚anym emailu potwierdzajÄ…cym
3. Link do powrotu do logowania

---

### Problem 4: UÅ¼ycie `window.location.href` zamiast Astro navigation

**Opis:**

- PeÅ‚ne przeÅ‚adowanie strony zamiast pÅ‚ynnych View Transitions
- Projekt ma wÅ‚Ä…czone View Transitions API

**Plik:** `src/components/auth/auth-form.tsx:70, 95`

**Plan naprawy:**

#### Krok 4.1: Refaktoryzacja przekierowaÅ„ w komponencie

**Cel:** UÅ¼ycie `navigate()` z Astro transitions lub server-side redirect

**Opcja A - Client-side navigate:**

```typescript
import { navigate } from "astro:transitions/client";

// Po sukcesie logowania/rejestracji
await navigate("/");
```

**Opcja B - Server-side redirect (zalecane dla auth):**

```typescript
// Zamiast bezpoÅ›redniego przekierowania w componencie,
// wywoÅ‚aÄ‡ API endpoint ktÃ³ry ustawi sesjÄ™ i przekieruje
const response = await fetch("/api/auth/callback", {
  method: "POST",
  body: JSON.stringify({ session: authData.session }),
});

if (response.redirected) {
  window.location.href = response.url;
}
```

#### Krok 4.2: Implementacja (zalecana Opcja A)

**Akcje:**

1. ZaimportowaÄ‡ `navigate` z `astro:transitions/client`
2. ZastÄ…piÄ‡ `window.location.href = '/'` przez `await navigate('/')`
3. ZachowaÄ‡ `window.location.href` tylko dla `/login` po rejestracji (jeÅ›li email confirmation)

**Uwaga:** `navigate()` moÅ¼e nie dziaÅ‚aÄ‡ poprawnie jeÅ›li sesja jeszcze nie jest zapisana w cookies. MoÅ¼e wymagaÄ‡ opÃ³Åºnienia lub peÅ‚nego przeÅ‚adowania.

---

### Problem 5: Console.log w production code âœ… ROZWIÄ„ZANY

**Opis:**

- ~~11 wystÄ…pieÅ„ `console.log` w production code~~
- ~~Debug logging powinien byÄ‡ usuniÄ™ty lub zastÄ…piony proper loggerem~~

**RozwiÄ…zanie zastosowane:**
- UsuniÄ™to wszystkie console.log z `src/components/auth/auth-form.tsx` (6 wystÄ…pieÅ„)
- UsuniÄ™to wszystkie console.log z `src/middleware/index.ts` (3 wystÄ…pienia â†’ middleware po refaktoryzacji nie miaÅ‚ console.log)

**Pliki (zaktualizowane):**

- `src/components/auth/auth-form.tsx` - czyste
- `src/middleware/index.ts` - czyste

**Plan naprawy:**

#### Krok 5.1: UsuniÄ™cie console.log z `auth-form.tsx`

**Akcje:**

1. UsunÄ…Ä‡ linie: 61, 68, 79, 83, 90, 93
2. Opcjonalnie: zachowaÄ‡ error logging uÅ¼ywajÄ…c proper error handler

#### Krok 5.2: UsuniÄ™cie console.log z `middleware/index.ts`

**Akcje:**

1. UsunÄ…Ä‡ linie: 9, 17, 23
2. Opcjonalnie: uÅ¼yÄ‡ `console.error()` tylko dla faktycznych bÅ‚Ä™dÃ³w

#### Krok 5.3: (Opcjonalnie) Implementacja proper logging

**Akcje:**

1. UtworzyÄ‡ `src/lib/logger.ts` z conditional logging
2. Logging tylko w development: `if (import.meta.env.DEV)`

**Kod docelowy:**

```typescript
// src/lib/logger.ts
export const logger = {
  debug: (message: string, data?: unknown) => {
    if (import.meta.env.DEV) {
      console.log(`[DEBUG] ${message}`, data);
    }
  },
  error: (message: string, error?: unknown) => {
    console.error(`[ERROR] ${message}`, error);
  },
};
```

---

## ğŸ”µ Problemy mniejsze (nice to have)

### Problem 6: NiepeÅ‚na obsÅ‚uga bÅ‚Ä™dÃ³w

**Opis:**

- Brak obsÅ‚ugi bÅ‚Ä™dÃ³w sieciowych (offline, timeout)
- Brak obsÅ‚ugi rate limiting
- Brak weryfikacji unikalnoÅ›ci username (error z DB trigger)

**Plik:** `src/components/auth/auth-form.tsx:97-114`

**Plan naprawy:**

#### Krok 6.1: Rozszerzenie mapowania bÅ‚Ä™dÃ³w Supabase

**Kod docelowy:**

```typescript
if (errorMessage.includes("Invalid login credentials")) {
  setServerError("NieprawidÅ‚owy email lub hasÅ‚o");
} else if (errorMessage.includes("Email not confirmed")) {
  setServerError("PotwierdÅº swÃ³j adres email przed zalogowaniem");
} else if (errorMessage.includes("User already registered")) {
  setServerError("UÅ¼ytkownik z tym adresem email juÅ¼ istnieje");
} else if (errorMessage.includes("duplicate key value violates unique constraint")) {
  // Trigger z bazy danych dla username
  setServerError("Ta nazwa uÅ¼ytkownika jest juÅ¼ zajÄ™ta");
} else if (errorMessage.includes("rate limit")) {
  setServerError("Zbyt wiele prÃ³b. SprÃ³buj ponownie za chwilÄ™");
} else if (errorMessage.includes("network") || errorMessage.includes("fetch")) {
  setServerError("Problem z poÅ‚Ä…czeniem. SprawdÅº internet");
} else {
  setServerError("WystÄ…piÅ‚ bÅ‚Ä…d. SprÃ³buj ponownie");
}
```

#### Krok 6.2: Dodanie timeout dla request

**Akcje:**

1. OwinÄ…Ä‡ `signUp`/`signInWithPassword` w Promise.race z timeoutem
2. Timeout: 10-15 sekund

**Kod docelowy:**

```typescript
const timeoutPromise = new Promise((_, reject) =>
  setTimeout(() => reject(new Error('Request timeout')), 15000)
)

const authPromise = isRegisterMode
  ? supabaseBrowser.auth.signUp({...})
  : supabaseBrowser.auth.signInWithPassword({...})

const { data, error } = await Promise.race([authPromise, timeoutPromise])
```

---

### Problem 7: Dokumentacja dwÃ³ch klientÃ³w Supabase

**Opis:**

- IstniejÄ… dwa klienty: server i browser
- CLAUDE.md nie dokumentuje tego rozrÃ³Å¼nienia
- MoÅ¼e byÄ‡ mylÄ…ce dla przyszÅ‚ych developerÃ³w

**Plan naprawy:**

#### Krok 7.1: Aktualizacja CLAUDE.md

**Akcje:**

1. DodaÄ‡ sekcjÄ™ o rozrÃ³Å¼nieniu server/browser client
2. WyjaÅ›niÄ‡ kiedy uÅ¼ywaÄ‡ ktÃ³rego

**Kod docelowy:**

```markdown
### Supabase Integration

Projekt uÅ¼ywa dwÃ³ch klientÃ³w Supabase:

1. **Server Client (`src/db/supabase.server.ts`)**:
   - UÅ¼ywany w middleware, API routes, i Astro components (server-side)
   - DostÄ™pny przez `context.locals.supabase`
   - Ma dostÄ™p do service role key
   - Tworzy nowy client per-request

2. **Browser Client (`src/db/supabase.browser.ts`)**:
   - UÅ¼ywany w React components (client-side)
   - Import: `import { supabaseBrowser } from '@/db/supabase.browser'`
   - UÅ¼ywa public anon key
   - Singleton, wspÃ³Å‚dzieli sesjÄ™ przez cookies

**Zasady:**

- âŒ NIGDY nie importuj `supabase.browser.ts` w kodzie server-side
- âŒ NIGDY nie importuj `supabase.server.ts` w komponencie React
- âœ… W Astro components uÅ¼ywaj `Astro.locals.supabase`
- âœ… W React components uÅ¼ywaj `supabaseBrowser`
```

#### Krok 7.2: Dodanie komentarzy w kodzie

**Akcje:**

1. DodaÄ‡ JSDoc comments w obu plikach client
2. OstrzeÅ¼enia o wÅ‚aÅ›ciwym uÅ¼yciu

---

### Problem 8: Brak `prerender = false` w stronach auth

**Opis:**

- Strony uÅ¼ywajÄ… server-side data (`Astro.locals.user`)
- Powinny mieÄ‡ jawnÄ… deklaracjÄ™ `prerender = false`

**Pliki:**

- `src/pages/login.astro`
- `src/pages/register.astro`

**Plan naprawy:**

#### Krok 8.1: Dodanie export prerender

**Kod docelowy:**

```astro
---
import Layout from "@/layouts/Layout.astro";
import { AuthForm } from "@/components/auth/auth-form";

export const prerender = false;

if (Astro.locals.user) {
  return Astro.redirect("/");
}
---
```

**Akcje:**

1. DodaÄ‡ `export const prerender = false` w obu plikach
2. UmieÅ›ciÄ‡ po imports, przed logikÄ…

---

## ğŸ“‹ Plan implementacji - kolejnoÅ›Ä‡ krokÃ³w

### Faza 1: Krytyczne poprawki (wymagane przed testowaniem) âœ… UKOÅƒCZONA

1. âœ… **Krok 1.1**: Instalacja `@supabase/ssr` â€” DONE
2. âœ… **Krok 1.2**: Utworzenie `supabase.server.ts` â€” DONE
3. âœ… **Krok 1.3**: Refaktoryzacja `supabase.browser.ts` â€” DONE
4. âœ… **Krok 1.4**: Aktualizacja middleware â€” DONE
5. âœ… **Krok 1.5**: UsuniÄ™cie `supabase.client.ts` â€” DONE
6. âœ… **Krok 5.1-5.2**: UsuniÄ™cie console.log â€” DONE
7. âœ… **Krok 3.2**: Warunkowe przekierowanie po rejestracji â€” DONE (dodatkowy krok)

### Faza 2: WaÅ¼ne poprawki (przed deployment) âœ… UKOÅƒCZONA

8. âœ… **Krok 8.1**: Dodanie `prerender = false` do stron auth â€” DONE
9. âœ… **Krok 4.1-4.2**: Refaktoryzacja navigation â€” pozostawiono `window.location.href` (bezpieczniejsze dla auth)
10. âœ… **Krok 7.1-7.2**: Aktualizacja dokumentacji CLAUDE.md â€” DONE (JSDoc juÅ¼ byÅ‚ z Fazy 1)

### Faza 3: Opcjonalne usprawnienia

11. ğŸ“ **Krok 6.1-6.2**: Rozszerzenie obsÅ‚ugi bÅ‚Ä™dÃ³w
12. ğŸ“ **Krok 3.3**: Strona `/verify-email` (jeÅ›li email confirmation)
13. ğŸ“ **Krok 5.3**: Proper logging solution (opcjonalne)

### Faza 4: Testowanie âœ… UKOÅƒCZONA

14. âœ… Test rejestracji nowego uÅ¼ytkownika â€” PASSED
15. âœ… Test logowania istniejÄ…cego uÅ¼ytkownika â€” PASSED
16. âœ… Test bÅ‚Ä™dÃ³w (zÅ‚e hasÅ‚o, duplikat email) â€” PASSED
17. âœ… Test przekierowaÅ„ (zalogowany uÅ¼ytkownik na /login) â€” PASSED
18. âœ… Test sesji (middleware widzi zalogowanego uÅ¼ytkownika) â€” PASSED

---

## âœ… Kryteria sukcesu

### Techniczne

- [x] Middleware poprawnie wykrywa zalogowanego uÅ¼ytkownika *(przetestowane)*
- [x] Sesja utrzymuje siÄ™ miÄ™dzy page reloads *(przetestowane)*
- [x] Po zalogowaniu nastÄ™puje przekierowanie do `/` *(zaimplementowane)*
- [x] Zalogowany uÅ¼ytkownik nie moÅ¼e wejÅ›Ä‡ na `/login` ani `/register` *(prerender=false dodane)*
- [x] Wszystkie bÅ‚Ä™dy Supabase sÄ… obsÅ‚uÅ¼one z user-friendly messages *(zaimplementowane)*
- [x] Brak console.log w kodzie *(usuniÄ™te)*
- [x] Cookies ustawione z odpowiednimi flags (Secure w prod) *(@supabase/ssr)*

### BezpieczeÅ„stwo

- [x] Server client nie jest exposed do browser *(osobne pliki)*
- [x] Public anon key jest uÅ¼ywany tylko w browser *(supabase.browser.ts)*
- [x] Cookies majÄ… wÅ‚aÅ›ciwe security flags *(@supabase/ssr)*
- [ ] Rate limiting jest obsÅ‚ugiwany *(opcjonalne rozszerzenie)*

### UX

- [x] Loading states dziaÅ‚ajÄ… poprawnie *(zaimplementowane)*
- [x] Error messages sÄ… czytelne po polsku *(zaimplementowane)*
- [x] Walidacja formularza dziaÅ‚a real-time *(react-hook-form + zod)*
- [x] PÅ‚ynne przejÅ›cia miÄ™dzy stronami *(pozostawiono full page reload dla bezpieczeÅ„stwa auth)*

---

## ğŸ“ Notatki

### Pytania do rozstrzygniÄ™cia

1. ~~Czy Supabase ma wÅ‚Ä…czonÄ… email confirmation? (wpÅ‚ywa na flow rejestracji)~~ â€” Zaimplementowano warunkowÄ… obsÅ‚ugÄ™
2. ~~Czy chcemy pÅ‚ynne transitions czy full page reload po auth? (bezpieczeÅ„stwo vs UX)~~ â€” Full page reload (bezpieczniejsze)
3. ~~Czy potrzebujemy proper logging solution czy wystarczy usunÄ…Ä‡ console.log?~~ â€” UsuniÄ™to console.log, logging opcjonalny

### Znane ograniczenia

- View Transitions mogÄ… nie dziaÅ‚aÄ‡ poprawnie z auth (sesja w cookies)
- MoÅ¼e byÄ‡ konieczne full page reload dla pewnoÅ›ci synchronizacji

### ZaleÅ¼noÅ›ci do zainstalowania

```bash
npm install @supabase/ssr  # âœ… ZAINSTALOWANO
```

### Pliki utworzone (Faza 1)

- âœ… `src/db/supabase.server.ts` â€” utworzony
- ğŸ“ `src/pages/verify-email.astro` (opcjonalny - Faza 3)
- ğŸ“ `src/lib/logger.ts` (opcjonalny - Faza 3)

### Pliki usuniÄ™te (Faza 1)

- âœ… `src/db/supabase.client.ts` â€” usuniÄ™ty (zastÄ…piony przez supabase.server.ts)

### Pliki zmodyfikowane (Faza 1)

- âœ… `src/middleware/index.ts` â€” zaktualizowany
- âœ… `src/db/supabase.browser.ts` â€” zrefaktoryzowany
- âœ… `src/components/auth/auth-form.tsx` â€” usuniÄ™to console.log, dodano warunkowe przekierowanie
- âœ… `src/pages/login.astro` â€” dodano `prerender = false` (Faza 2)
- âœ… `src/pages/register.astro` â€” dodano `prerender = false` (Faza 2)
- âœ… `CLAUDE.md` â€” zaktualizowano dokumentacjÄ™ Supabase Integration (Faza 2)

---

## ğŸ“Š Historia zmian

### Faza 1 â€” 2025-12-05

**Wykonane kroki:**
1. Zainstalowano `@supabase/ssr`
2. Utworzono `src/db/supabase.server.ts` z funkcjÄ… `createSupabaseServerClient()`
3. Zrefaktoryzowano `src/db/supabase.browser.ts` do uÅ¼ycia `createBrowserClient`
4. Zaktualizowano `src/middleware/index.ts` do tworzenia client per-request
5. UsuniÄ™to stary `src/db/supabase.client.ts`
6. UsuniÄ™to wszystkie console.log z auth-form.tsx (6 wystÄ…pieÅ„)
7. Zaimplementowano warunkowe przekierowanie po rejestracji (authData.session check)

**Wynik:** Architektura Supabase SSR naprawiona, sesje powinny byÄ‡ synchronizowane miÄ™dzy server i browser.

### Faza 2 â€” 2025-12-05

**Wykonane kroki:**
1. Dodano `export const prerender = false` do `login.astro` i `register.astro`
2. Oceniono refaktoryzacjÄ™ navigation â€” decyzja: pozostawiono `window.location.href` (bezpieczniejsze dla auth, gwarantuje synchronizacjÄ™ sesji)
3. Zaktualizowano sekcjÄ™ "Supabase Integration" w CLAUDE.md z peÅ‚nÄ… dokumentacjÄ… dwÃ³ch klientÃ³w
4. JSDoc comments byÅ‚y juÅ¼ dodane w Fazie 1

**Wynik:** Strony auth sÄ… teraz poprawnie renderowane server-side, dokumentacja jest kompletna.

---

**Status dokumentu:** âœ… IMPLEMENTACJA ZAKOÅƒCZONA
**Ostatnia aktualizacja:** 2025-12-05
**NastÄ™pny krok:** Faza 3 (opcjonalne usprawnienia) lub deployment
